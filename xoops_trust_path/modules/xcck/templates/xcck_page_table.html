<div class="xcck">
<{include file="db:`$dirname`_inc_menu.html" isSubtable=$isSubtable isPoster=$accessController->isPoster()}>

<h1><{$xoops_modulename}> <{$smarty.const._LIST}></h1>

<{if $moduleDescription}>
<p><{$moduleDescription}></p>
<{/if}>

<{if count($objects) > 0}>
  <div class="pagenavi"><{xoops_pagenavi pagenavi=$pageNavi}></div>
  <table class="outer list" summary="">
    <thead>
      <tr>
        <th>
          <{$smarty.const._MD_XCCK_LANG_TITLE}>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=`$smarty.const.XCCK_PAGE_SORT_KEY_TITLE`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/up.gif" alt="<{$smarty.const._ASCENDING}>" title="<{$smarty.const._ASCENDING}>" /></a>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=-`$smarty.const.XCCK_PAGE_SORT_KEY_TITLE`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/down.gif" alt="<{$smarty.const._DESCENDING}>" title="<{$smarty.const._DESCENDING}>" /></a>
        </th>
        <th>
          <{$smarty.const._MD_XCCK_LANG_CATEGORY_ID}>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=`$smarty.const.XCCK_PAGE_SORT_KEY_CATEGORY_ID`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/up.gif" alt="<{$smarty.const._ASCENDING}>" title="<{$smarty.const._ASCENDING}>" /></a>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=-`$smarty.const.XCCK_PAGE_SORT_KEY_CATEGORY_ID`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/down.gif" alt="<{$smarty.const._DESCENDING}>" title="<{$smarty.const._DESCENDING}>" /></a>
        </th>
        <th>
          <{$smarty.const._MD_XCCK_LANG_UID}>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=`$smarty.const.XCCK_PAGE_SORT_KEY_UID`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/up.gif" alt="<{$smarty.const._ASCENDING}>" title="<{$smarty.const._ASCENDING}>" /></a>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=-`$smarty.const.XCCK_PAGE_SORT_KEY_UID`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/down.gif" alt="<{$smarty.const._DESCENDING}>" title="<{$smarty.const._DESCENDING}>" /></a>
        </th>
        <{foreach item=def from=$definitions}>
        <th title="<{$def->getShow('description')}>"><{$def->getShow('label')}></th>
        <{/foreach}>
        <th>
          <{$smarty.const._MD_XCCK_LANG_POSTTIME}>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=`$smarty.const.XCCK_PAGE_SORT_KEY_POSTTIME`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/up.gif" alt="<{$smarty.const._ASCENDING}>" title="<{$smarty.const._ASCENDING}>" /></a>
          <a href="<{xoops_cooluri dirname=$dirname dataname=page query="sort=-`$smarty.const.XCCK_PAGE_SORT_KEY_POSTTIME`"}>"><img src="<{$xoops_url}>/modules/<{$dirname}>/images/down.gif" alt="<{$smarty.const._DESCENDING}>" title="<{$smarty.const._DESCENDING}>" /></a>
        </th>
      </tr>
    </thead>
    <tbody>
      <{foreach item=obj from=$objects}>
        <tr class="<{cycle values='odd,even'}>">
          <td>
            <{if $obj->getShow('status')<9}><span class="status" title="<{$obj->getShowStatus()}>">*</span> <{/if}><a href="<{xoops_cooluri dirname=$dirname data_id=$obj->getShow('page_id')}>"><{$obj->getShow('title')}></a>
            <{if $accessController->isEditor($obj->get('category_id'), $obj->get('uid'))}>
            [<a href="<{xoops_cooluri dirname=$dirname dataname=$dataname data_id=$obj->getShow('page_id') action=edit}>"><{$smarty.const._EDIT}></a>]
            [<a href="<{xoops_cooluri dirname=$dirname dataname=$dataname data_id=$obj->getShow('page_id') action=delete}>"><{$smarty.const._DELETE}></a>]
            <{/if}>
          </td>
          <td>
            <{assign var="catId" value=$obj->get('category_id')}>
            <{$catTitleList.$catId|xoops_escape}>
          </td>
          <td><{$obj->getShow('uid')|xoops_user:"user_name"}></td>
          <{foreach item=def from=$definitions}>
          <td><{$obj->showField($def->getShow('field_name'))}></td>
          <{/foreach}>
          <td><{$obj->get('posttime')|xoops_formattimestamp:s}></td>
        </tr>
      <{/foreach}>
    </tbody>
  </table>
  <div class="pagenavi"><{xoops_pagenavi pagenavi=$pageNavi}></div>
<{/if}>
</div>
